/*!
* Dynamsoft JavaScript Library
* @product Dynamsoft Image IO JS Edition
* @website http://www.dynamsoft.com
* @copyright Copyright 2022, Dynamsoft Corporation
* @author Dynamsoft
* @version 1.8.0 (2022-11-09T09:07:50.211Z)
* @fileoverview Dynamsoft JavaScript Library for Image IO
* 
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd&&0?define(["exports"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).Dynamsoft=e.Dynamsoft||{},e.Dynamsoft.ImageIO={}))}(this,(function(e){"use strict";var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)};function n(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var i,r,a,o,s,u,l,d,c=function(){return c=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},c.apply(this,arguments)};function f(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{u(i.next(e))}catch(t){a(t)}}function s(e){try{u(i["throw"](e))}catch(t){a(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((i=i.apply(e,t||[])).next())}))}function h(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),"throw":s(1),"return":s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i["return"]:s[0]?i["throw"]||((r=i["return"])&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(u){s=[6,u],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}function p(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}function m(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n}!function(e){e.logInfo="logInfo",e.logDebug="logDebug",e.logAll="logAll",e.imgIO="imgIO",e.core="imgCore",e.imgProc="imgProc",e.pdfR="pdfReader",e.pdfW="pdfWriter",e.crypto="crypto",e.binaryBlobType="application/octet-stream",e.wasmExtension=".wasm"}(i||(i={})),function(e){e.pending="pending",e.ready="ready",e.failed="failed",e.destroyed="destroyed",e.init="init"}(r||(r={})),function(e){e.PARAMETER_TYPE_ERROR="Parameter Type not Supported = ",e.TIMEOUT="Timeout no Response = ",e.FILE_STREAM_ERROR="File Stream Error = ",e.WASM_EXCEPTION_ERROR="An WASM exception occurred."}(a||(a={})),function(e){e[e.LONG_KEY=0]="LONG_KEY",e[e.DLS_KEY=1]="DLS_KEY"}(o||(o={})),function(e){e[e.wasmBase=-4e3]="wasmBase",e[e.wasmException=-4001]="wasmException",e[e.wasmNoModule=-4002]="wasmNoModule",e[e.wasmJsBase=-4100]="wasmJsBase",e[e.wasmJsObjectNotInit=-4101]="wasmJsObjectNotInit",e[e.wasmJsObjectTerminated=-4102]="wasmJsObjectTerminated",e[e.wasmJsObjectInitFailed=-4103]="wasmJsObjectInitFailed",e[e.wasmJsNotLoaded=-4104]="wasmJsNotLoaded",e[e.wasmJsInvalidJson=-4105]="wasmJsInvalidJson",e[e.wasmJsWorkerRunException=-4106]="wasmJsWorkerRunException",e[e.wasmJsWorkerRunFailed=-4107]="wasmJsWorkerRunFailed",e[e.wasmJsReadFileFailed=-4108]="wasmJsReadFileFailed",e[e.wasmJsCoreTaskException=-4109]="wasmJsCoreTaskException",e[e.wasmJsProcTaskException=-4110]="wasmJsProcTaskException",e[e.wasmJsSavePdfFailed=-4111]="wasmJsSavePdfFailed",e[e.wasmJsSaveTiffFailed=-4112]="wasmJsSaveTiffFailed"}(s||(s={})),e.ImageType=void 0,(u=e.ImageType||(e.ImageType={}))[u.IT_DIB=-1]="IT_DIB",u[u.IT_RGBA=-2]="IT_RGBA",u[u.IT_BGRA=-3]="IT_BGRA",u[u.IT_BMP=0]="IT_BMP",u[u.IT_JPG=1]="IT_JPG",u[u.IT_PNG=3]="IT_PNG",u[u.IT_ALL=5]="IT_ALL",e.ReturnedDataType=void 0,(l=e.ReturnedDataType||(e.ReturnedDataType={}))[l.RT_AUTO=-1]="RT_AUTO",l[l.RT_BINARY=1]="RT_BINARY",l[l.RT_BASE64=2]="RT_BASE64",function(e){e[e.SF_DEF=0]="SF_DEF",e[e.SF_ENABLE=1]="SF_ENABLE",e[e.SF_DISABLE=2]="SF_DISABLE"}(d||(d={}));var g,y=function(){function e(){}return e.fetchRetry=function(e,t,n,i){var r=t.retries,a=t.retryDelay;return new Promise((function(o,s){var u=function(l){return fetch(e,t).then((function(e){o(e)}))["catch"]((function(e){l<r?function(e,t,r){n&&n(t,i),setTimeout((function(){u(++e)}),a)}(l,e):s(e)}))};return u(0)}))},e}();!function(e){e.imgIOVer="1.8.0",e.coreVer="1.8.0",e.imgProcVer="1.8.0",e.pdfRVer="1.8.0",e.pdfWVer="1.8.0",e.cryptoVer="1.8.0"}(g||(g={}));var v,b,T,_,k,I,w,S,P,R,M,O,A,B,D,W,F,x,j,L,C,E,N,J=function(){function e(){}var t,n,r,a,s,u,l,d,c,f,h,y,v,b,T,_,k,I,w,S,P,R,M,O;return Object.defineProperty(e,"UseSimd",{get:function(){return p(this,t,"f",l)},set:function(e){m(this,t,e,"f",l)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"License",{get:function(){return p(this,t,"f",n)},set:function(e){m(this,t,e,"f",n)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"LicMode",{get:function(){return p(this,t,"f",r)},set:function(e){m(this,t,e,"f",r),p(this,t,"m",c).call(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"UUID",{get:function(){return p(this,t,"f",a)},set:function(e){m(this,t,e,"f",a)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"NavInfo",{get:function(){return p(this,t,"f",s)},set:function(e){m(this,t,e,"f",s)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Mobile",{get:function(){return p(this,t,"f",u)},set:function(e){m(this,t,e,"f",u)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DefHeapSize",{get:function(){return p(this,t,"f",f)},set:function(e){m(this,t,e,"f",f)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MaxHeapSize",{get:function(){return p(this,t,"f",h)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ImageIOWorkerJS",{get:function(){return"dynamsoft.imageio_wasm-"+g.imgIOVer+".js"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"PdfReaderWorkerJS",{get:function(){return"dynamsoft.pdfReader_wasm-"+g.pdfRVer+".js"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ImageIOPrefixName",{get:function(){return"dynamsoft.imageio-"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ImagecorePrefixName",{get:function(){return"dynamsoft.imagecore-"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ImageProcPrefixName",{get:function(){return"dynamsoft.imageProc-"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"PdfReaderPrefixName",{get:function(){return"dynamsoft.pdfReader-"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"PdfWriterPrefixName",{get:function(){return"dynamsoft.pdfWriter-"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"CryptoPrefixName",{get:function(){return"dynamsoft.crypto-"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ImageIOResource",{get:function(){return p(this,t,"f",b)},set:function(e){m(this,t,p(this,t,"m",y).call(this,e),"f",b),p(this,t,"m",_).call(this,p(this,t,"f",b),this.imageIOModule),p(this,t,"m",_).call(this,p(this,t,"f",b),p(this,t,"f",k)),p(this,t,"m",_).call(this,p(this,t,"f",b),p(this,t,"f",w)),p(this,t,"m",_).call(this,p(this,t,"f",b),p(this,t,"f",S))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"PdfReaderResource",{get:function(){return p(this,t,"f",T)},set:function(e){e.useFastCompEdition=!1,m(this,t,p(this,t,"m",y).call(this,e),"f",T),p(this,t,"m",_).call(this,p(this,t,"f",T),p(this,t,"f",I)),this.PdfReaderModule.singleInstance=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ImageIOModule",{get:function(){return this.imageIOModule},enumerable:!1,configurable:!0}),Object.defineProperty(e,"CryptoModule",{get:function(){return p(this,t,"f",k)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"PdfReaderModule",{get:function(){return p(this,t,"f",I)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ImagecoreModule",{get:function(){return p(this,t,"f",w)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ImageProcModule",{get:function(){return p(this,t,"f",S)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"PdfWriterModule",{get:function(){return p(this,t,"f",P)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"LogLevel",{get:function(){return p(this,t,"f",R)},enumerable:!1,configurable:!0}),e.setLogFunc=function(e,n,i){m(this,t,e,"f",R),m(this,t,n,"f",M),m(this,t,i,"f",O)},Object.defineProperty(e,"LogFunc",{get:function(){return p(this,t,"f",M)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"LogContext",{get:function(){return p(this,t,"f",O)},enumerable:!1,configurable:!0}),t=e,d=function(e){this.LicMode==o.DLS_KEY&&e.dependencyModules&&-1!=e.dependencyModules.indexOf(i.imgIO)&&-1==e.dependencyModules.indexOf(i.crypto)&&e.dependencyModules.push(i.crypto)},c=function(){p(this,t,"m",d).call(this,p(this,t,"f",w)),p(this,t,"m",d).call(this,p(this,t,"f",S)),p(this,t,"m",d).call(this,p(this,t,"f",P))},y=function(e){var n,i,r,a,o,s={crossScript:!1,resourceDir:e.resourceDir,workerScript:e.workerScript,useFastCompEdition:null!==(n=e.useFastCompEdition)&&void 0!==n&&n,useSimd:null!==(i=e.useSimd)&&void 0!==i?i:p(this,t,"f",l),fetchOptions:null!==(r=e.fetchOptions)&&void 0!==r?r:p(this,t,"f",v),defHeapSize:null!==(a=e.defHeapSize)&&void 0!==a?a:this.DefHeapSize,maxHeapSize:null!==(o=e.maxHeapSize)&&void 0!==o?o:this.MaxHeapSize};return s.workerScript=e.resourceDir+e.workerScript,s.workerScript.startsWith("http://")||s.workerScript.startsWith("https://")?(s.resourceDir=e.resourceDir,s.workerScript.startsWith(location.origin)||(s.crossScript=!0)):e.resourceDir.startsWith("/")?null!=location.origin&&(s.resourceDir=location.origin+e.resourceDir):null!=location.href&&(s.resourceDir=location.href.substring(0,location.href.lastIndexOf("/")+1)+e.resourceDir),s.resourceDir.endsWith("/")||(s.resourceDir+="/"),e.useFastCompEdition&&(s.resourceDir+="fastcomp/",s.workerScript=s.resourceDir+e.workerScript),s},_=function(e,t){t.resourceDir=e.resourceDir,t.crossScript=e.crossScript,t.name===i.imgProc?t.useSimd=e.useSimd:t.useSimd=!1,t.script=e.workerScript,t.fetchOptions=e.fetchOptions,t.defHeapSize=e.defHeapSize,t.maxHeapSize=e.maxHeapSize},n={value:""},r={value:o.LONG_KEY},a={value:""},s={value:null},u={value:!1},l={value:!1},f={value:32},h={value:200},v={value:{mode:"cors",credentials:"same-origin",retries:3,retryDelay:500}},b={value:{resourceDir:"",workerScript:e.ImageIOWorkerJS,useFastCompEdition:!1,useSimd:!1,crossScript:!1,fetchOptions:p(e,t,"f",v),defHeapSize:e.DefHeapSize,maxHeapSize:e.MaxHeapSize}},T={value:{resourceDir:"",workerScript:e.PdfReaderWorkerJS,useFastCompEdition:!1,useSimd:!1,crossScript:!1,fetchOptions:p(e,t,"f",v),defHeapSize:e.DefHeapSize,maxHeapSize:e.MaxHeapSize}},e.imageIOModule={name:i.imgIO,autoLoad:!1,ver:g.imgIOVer,prefixName:e.ImageIOPrefixName,dependencyModules:[],useSimd:!1,fetchOptions:p(e,t,"f",v)},k={value:{name:i.crypto,autoLoad:!1,ver:g.cryptoVer,prefixName:e.CryptoPrefixName,dependencyModules:[i.imgIO],fetchOptions:p(e,t,"f",v)}},I={value:{name:i.pdfR,autoLoad:!1,ver:g.pdfRVer,prefixName:e.PdfReaderPrefixName,dependencyModules:[],fetchOptions:p(e,t,"f",v)}},w={value:{name:i.core,autoLoad:!1,ver:g.coreVer,prefixName:e.ImagecorePrefixName,dependencyModules:[i.imgIO],fetchOptions:p(e,t,"f",v)}},S={value:{name:i.imgProc,autoLoad:!1,ver:g.imgProcVer,prefixName:e.ImageProcPrefixName,dependencyModules:[i.imgIO,i.core],useSimd:e.UseSimd}},P={value:{name:i.pdfW,autoLoad:!1,ver:g.pdfWVer,prefixName:e.PdfWriterPrefixName,dependencyModules:[i.imgIO,i.core],useSimd:e.UseSimd}},R={value:""},M={value:void 0},O={value:null},e}(),H=function(){function e(e,t,n,i,r){v.add(this),b.set(this,void 0),T.set(this,void 0),_.set(this,void 0),k.set(this,void 0),I.set(this,void 0),w.set(this,void 0),S.set(this,void 0),P.set(this,void 0),R.set(this,void 0),M.set(this,void 0),O.set(this,void 0),A.set(this,void 0),B.set(this,0),D.set(this,{}),W.set(this,null),m(this,b,e,"f"),m(this,R,n,"f"),m(this,_,[],"f"),m(this,k,!1,"f"),m(this,I,!1,"f"),m(this,B,t,"f"),m(this,W,Object.create(null),"f"),p(this,D,"f").modulesInfo=[],m(this,O,Object.create(null),"f"),m(this,w,i,"f"),m(this,S,r,"f"),m(this,P,null,"f"),m(this,M,0,"f"),m(this,A,0,"f"),m(this,T,p(this,v,"m",x).call(this,p(this,b,"f")),"f"),p(this,T,"f").on("message",p(this,v,"m",C),this),p(this,T,"f").on("error",p(this,v,"m",L),this),p(this,T,"f").on("exit",(function(t,n,i){var r="Worker #terminated Unexpectedly\n";r+=" exitCode: `"+t+"`\n",r+=" signalCode: `"+n+"`\n",r+=" #script: `"+e+"`\n",p(i,v,"m",L).call(i,new Error(r),i)}),this)}return Object.defineProperty(e.prototype,"WorkerScript",{get:function(){return p(this,R,"f")},enumerable:!1,configurable:!0}),e.prototype.setLogFunc=function(e,t){m(this,w,e,"f"),m(this,S,t,"f")},Object.defineProperty(e.prototype,"id",{get:function(){return p(this,B,"f")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Module",{get:function(){return p(this,D,"f")},set:function(e){m(this,D,e,"f")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Instances",{get:function(){return p(this,W,"f")},enumerable:!1,configurable:!0}),e.prototype.execTask=function(e,t,n){n||((n={}).promise=new Promise((function(e,t){n.resolve=e,n.reject=t})));var i=m(this,A,+p(this,A,"f")+1,"f");p(this,O,"f")[i]={id:i,resolver:n};var r={id:i,func:e,params:t};return p(this,v,"m",j).call(this,e+" send"),p(this,I,"f")?n.reject(new Error("Worker is #terminated")):p(this,k,"f")?n.reject(new Error("Worker is #terminating")):p(this,T,"f").wasmReady||p(this,T,"f").ready&&"loadWasm"===e?p(this,T,"f").send(r):p(this,_,"f").push(r),n.promise},Object.defineProperty(e.prototype,"memSize",{get:function(){return p(this,M,"f")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"busy",{get:function(){return this.howManyTasks>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"howManyTasks",{get:function(){return Object.keys(p(this,O,"f")).length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alive",{get:function(){return!p(this,k,"f")&&!p(this,I,"f")},enumerable:!1,configurable:!0}),e.prototype.terminate=function(e,t){if(p(this,v,"m",j).call(this,"worker terminate "+e),e&&p(this,v,"m",N).call(this,"Worker has been #terminated"),"function"==typeof t&&m(this,P,t,"f"),this.busy)m(this,k,!0,"f");else{if(p(this,T,"f")){if("function"!=typeof p(this,T,"f").terminate)throw new Error("Failed to terminate worker");p(this,T,"f").terminate(),m(this,T,null,"f")}m(this,k,!1,"f"),m(this,I,!0,"f"),p(this,P,"f")&&p(this,P,"f").call(this,this)}},e}();b=new WeakMap,T=new WeakMap,_=new WeakMap,k=new WeakMap,I=new WeakMap,w=new WeakMap,S=new WeakMap,P=new WeakMap,R=new WeakMap,M=new WeakMap,O=new WeakMap,A=new WeakMap,B=new WeakMap,D=new WeakMap,W=new WeakMap,v=new WeakSet,F=function(e){for(var t=new Error(""),n=Object.keys(e),i=0;i<n.length;i++)t[n[i]]=e[n[i]];return t},x=function(e){if("function"!=typeof Worker&&"object"!=typeof Worker)throw new Error("Web Workers not supported");var t=new Worker(e);return t.on=function(e,t,n){this.addEventListener(e,(function(i){"exit"===e?t(i.data,"",n):t(i.data,n)}))},t.send=function(e){if(e!=undefined&&e.params!=undefined&&e.params.input!=undefined){var t=Object.prototype.toString.call(e.params.input);if("[object Array]"===Object.prototype.toString.call(e.params.input)){if("[object ArrayBuffer]"===(t=Object.prototype.toString.call(e.params.input[0]))||"[object Uint8ClampedArray]"===t||"[object Uint8Array]"===t)return void this.postMessage(e,[e.params.input[0].buffer!=undefined?e.params.input[0].buffer:e.params.input[0]])}else if("[object ArrayBuffer]"===t||"[object Uint8ClampedArray]"===t||"[object Uint8Array]"===t)return void this.postMessage(e,[e.params.input.buffer!=undefined?e.params.input.buffer:e.params.input])}this.postMessage(e)},t},j=function(e){p(this,w,"f")&&p(this,w,"f").call(this,e,p(this,S,"f"))},L=function(e,t){m(t,I,!0,"f"),p(t,v,"m",j).call(t,"[js]["+Date.now()/1e3+"] worker error "+JSON.stringify(e)),p(t,k,"f")&&p(t,P,"f")&&p(t,P,"f").call(t,t),m(t,k,!1,"f"),p(t,v,"m",N).call(t)},C=function(e,t){if(p(t,v,"m",j).call(t,e.log?e.log:e),"string"==typeof e&&"ready"===e)p(t,T,"f").ready=!0,p(t,v,"m",E).call(t);else if(!e.log){if("object"==typeof e){var n=e.result;"object"==typeof n?(n.errorCode!=undefined&&(n.code=n.errorCode,delete n.errorCode),n.errorMessage!=undefined&&(n.message=n.errorMessage,delete n.errorMessage)):"string"==typeof n&&(n=(n=(n=(n=n.replace('"errorCode"','"code"')).replace("'errorCode'","'code'")).replace('"errorMessage"','"message"')).replace("'errorMessage'","'message'"),e.result=n),e.memSize!=undefined&&m(t,M,e.memSize,"f")}var i=e.id,r=p(t,O,"f")[i];r!==undefined&&(delete p(t,O,"f")[i],p(t,v,"m",j).call(t,e.func+" received"),!0===p(t,k,"f")&&t.terminate(),"loadWasm"===e.func&&e.result!=undefined&&(p(t,T,"f").wasmReady=!0,p(t,v,"m",E).call(t)),e.error?r.resolver.reject(p(t,v,"m",F).call(t,e.error)):e.result&&r.resolver.resolve(e.result))}},E=function(){p(this,_,"f").forEach(p(this,T,"f").send.bind(p(this,T,"f"))),m(this,_,[],"f")},N=function(e){for(var t in p(this,O,"f"))p(this,O,"f")[t]!==undefined&&p(this,O,"f")[t].resolver.reject(new Error(e));m(this,O,Object.create(null),"f")};var z,U,G,V,Y,q,K,Q,X,Z,$,ee,te=function(){function e(){t.add(this),s.set(this,[]),u.set(this,2),l.set(this,60),d.set(this,!1),c.set(this,undefined),g.set(this,null),v.set(this,i.logDebug),T.set(this,!1)}var t,n,a,s,u,l,d,c,g,v,b,T,_,k,I,w,S,P,R,M,O,A,B,D,W,F,x,j,L,C;return Object.defineProperty(e,"Instance",{get:function(){return p(this,n,"f",a)||m(this,n,new e,"f",a),p(this,n,"f",a)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Terminated",{get:function(){return p(this,d,"f")},enumerable:!1,configurable:!0}),e.prototype.getModuleLoadedError=function(t){for(var i=0,r=p(e,n,"f",b);i<r.length;i++){var a=r[i];if(a.name==t)return a.error}return undefined},e.prototype.getModuleStatus=function(t){for(var i=0,r=p(e,n,"f",b);i<r.length;i++){var a=r[i];if(a.name==t)return a.status}return""},e.prototype.addModules=function(t,i){var r=!1;if(p(e,n,"f",b).forEach((function(e,n,i){e.name==t.name&&(e.ver==t.ver?r=!0:i.splice(n,1))})),!r){var a=t;a.status=i||"",a.wasmModule=null,p(e,n,"f",b).push(a)}},e.prototype.loadModule=function(a,s){return f(this,void 0,void 0,(function(){var u,l,d,c,f,m,g;return h(this,(function(h){for(u=null,s==undefined&&(s=0!=p(this,t,"m",B).call(this,a).length),l=0,d=a.dependencyModules;l<d.length;l++)(c=d[l])===i.imgIO?(this.addModules(J.ImageIOModule,r.pending),J.LicMode===o.DLS_KEY&&a.name!=i.crypto&&this.addModules(J.CryptoModule,r.pending)):c===i.core&&this.addModules(J.ImagecoreModule,r.pending);for(f=0,m=p(e,n,"f",b);f<m.length;f++)if((g=m[f]).name===a.name){if(g.wasmModule){if(s)return[2,!0];u=g;break}if(g.status===r.pending)return[2,!1];u=g;break}if(u)if(""===u.status)u.status=r.pending,u.wasmModule=null;else{if(u.status===r.pending)return[2,null];s||(u.error={code:0,message:""},u.status=r.pending)}else(u=a).status=r.pending,u.wasmModule=null,p(e,n,"f",b).push(u);return[2,p(this,t,"m",_).call(this,u)]}))}))},e.prototype.setLogFunc=function(e,t,n){m(this,c,t,"f"),m(this,g,n,"f"),m(this,v,e,"f")},Object.defineProperty(e.prototype,"busy",{get:function(){p(this,t,"m",x).call(this);for(var e=0,n=p(this,s,"f");e<n.length;e++)if(n[e].busy)return!0;return!1},enumerable:!1,configurable:!0}),e.prototype.getWorker=function(e,n){return f(this,void 0,void 0,(function(){var i;return h(this,(function(r){switch(r.label){case 0:return p(this,t,"m",D).call(this,e.name)?(p(this,t,"m",F).call(this),[2,null]):0==(i=p(this,t,"m",B).call(this,e)).length?[3,1]:[2,p(this,t,"m",j).call(this,i,n,!e.singleInstance)];case 1:return[4,this.loadModule(e,!1)];case 2:return r.sent(),[2,null]}}))}))},e.prototype.removeInstanceInWorker=function(e,n,i,r){var a;if(p(this,t,"m",L).call(this,n,i),r&&n&&n.memSize!=undefined){var o=1024*(null!==(a=e.maxHeapSize)&&void 0!==a?a:J.MaxHeapSize)*1024;if(p(this,t,"m",M).call(this,"current memSize="+n.memSize+", max="+o),n.memSize>o&&0!=o&&!p(this,t,"m",C).call(this,n)){p(this,t,"m",M).call(this,"try to terminate the worker"),n.terminate();var u=p(this,s,"f").indexOf(n);-1!==u&&p(this,s,"f").splice(u,1)}}},e.prototype.terminate=function(i){m(e,n,null,"f",a),p(this,t,"m",M).call(this,"worker pool terminate "+i),m(this,d,!0,"f");var r=[],o=p(this,s,"f").slice();return m(this,s,[],"f"),o.forEach((function(e){var t={};t.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),r.push(t.promise),e.terminate(i,(function(e){t.resolve(e)}))})),Promise.all(r)},e.prototype.terminateWorker=function(e){var t=p(this,s,"f").filter((function(t){return!t.Module.modulesInfo[e.name]||(t.terminate(!0),!1)}));m(this,s,t,"f")},e.prototype.getMemoryUsed=function(){for(var e=[],t=0,n=0,i=p(this,s,"f");n<i.length;n++){var r=i[n];r&&r.memSize!=undefined&&(e[t++]=r.memSize)}return e},n=e,s=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,c=new WeakMap,g=new WeakMap,v=new WeakMap,T=new WeakMap,t=new WeakSet,_=function(i){return f(this,void 0,void 0,(function(){var a,o,s,l,d,c,f,g;return h(this,(function(h){switch(h.label){case 0:return a=this,[4,p(this,t,"m",O).call(this,i)];case 1:if(o=h.sent()){if((s={id:0,func:"loadWasm",params:{insId:0,priority:0,module:{modulesInfo:[]},fetchOptions:i.fetchOptions}}).params.resourceDir=i.resourceDir,s.params.initMemory=i.defHeapSize,s.params.module){for(l=0,d=p(e,n,"f",b);l<d.length;l++)for(c=d[l],f=0,g=i.dependencyModules;f<g.length;f++)g[f]==c.name&&s.params.module.modulesInfo.push(c);s.params.module.modulesInfo.push(i)}return[2,p(this,t,"m",I).call(this,o,s,(function(e){m(a,u,p(a,t,"m",S).call(a),"f"),i.status===r.pending&&(i.status="")}))]}return i.status="",[2]}}))}))},k=function(t,i,r,a){for(var o=0,s=p(e,n,"f",b);o<s.length;o++){var u=s[o];if(u.name===t){u.status=i,u.wasmModule=r,u.error=a;break}}},I=function(e,n,i){return f(this,void 0,void 0,(function(){var r,a,o,s;return h(this,(function(u){switch(u.label){case 0:r=this,u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,e.execTask(n.func,n.params)];case 2:return a=u.sent(),o=!1,a.code===undefined||a.modules?o=p(r,t,"m",w).call(r,a,e):p(r,t,"m",M).call(r,a),[2,o];case 3:return s=u.sent(),p(r,t,"m",M).call(r,s),[2,!1];case 4:return i&&i(),[7];case 5:return[2]}}))}))},w=function(e,n){if(p(this,t,"m",M).call(this,"handleWasmLoad:"),p(this,t,"m",M).call(this,e),p(this,d,"f"))return n.terminate(),!1;if(("object"!=typeof e||e.modules==undefined)&&"object"==typeof e)return!1;for(var i=!1,a=0,o=e.modules;a<o.length;a++){var s=o[a];e.code?(p(this,t,"m",k).call(this,s.name,r.failed,null,{code:e.code,message:e.message}),n.Module.modulesInfo[s.name]=!1):(p(this,t,"m",k).call(this,s.name,r.ready,s.wasmModule,undefined),n.Module.modulesInfo[s.name]=!0,i=!0)}return i},S=function(){var e=2;return"hardwareConcurrency"in self.navigator&&(e=self.navigator.hardwareConcurrency),Math.max(Math.min(p(this,u,"f"),Math.max(p(this,u,"f"),e/2)),1)},P=function(){J.LogLevel==p(this,v,"f")&&J.LogFunc==p(this,c,"f")||this.setLogFunc(J.LogLevel,J.LogFunc,J.LogContext)},R=function(e){p(this,t,"m",P).call(this),p(this,c,"f")&&p(this,v,"f")===i.logAll&&p(this,c,"f").call(this,e,p(this,g,"f"))},M=function(e){p(this,t,"m",P).call(this),p(this,c,"f")&&p(this,v,"f")===i.logDebug&&p(this,c,"f").call(this,e,p(this,g,"f"))},O=function(e){return f(this,void 0,void 0,(function(){var n,i,r,a;return h(this,(function(o){for(p(this,t,"m",x).call(this),n=p(this,s,"f"),i=0,r=n;i<r.length;i++)if((a=r[i]).WorkerScript===e.script)return a.busy?[2,null]:[2,a];return[2,p(this,t,"m",A).call(this,e)]}))}))},A=function(e){return f(this,void 0,void 0,(function(){var n,i,r,a;return h(this,(function(o){switch(o.label){case 0:return(i=p(n=this,s,"f")).length<p(n,u,"f")&&!p(n,T,"f")?(m(n,T,!0,"f"),r=e.script,e.crossScript?[4,y.fetchRetry(e.script,e.fetchOptions,p(n,c,"f"),n).then((function(e){return e.blob()})).then((function(e){return URL.createObjectURL(e)}))["catch"]((function(e){return p(n,t,"m",M).call(n,"get new worker fetch failed: "),p(n,t,"m",M).call(n,e),m(n,T,!1,"f"),null}))]:[3,2]):[3,3];case 1:r=o.sent(),o.label=2;case 2:return a=new H(r,i.length+1,e.script,p(n,c,"f"),p(n,g,"f")),i.push(a),m(n,T,!1,"f"),p(n,t,"m",R).call(n,i),p(n,t,"m",M).call(n,"get new worker "+a.id+" succeed!"),[2,a];case 3:return[2,null]}}))}))},B=function(e){p(this,t,"m",x).call(this);var n=p(this,s,"f");p(this,t,"m",R).call(this,n);for(var i=[],r=0,a=n;r<a.length;r++){var o=a[r];if(o.Module.modulesInfo[e.name]){if(o.busy&&n.length<p(this,u,"f"))continue;i.push(o)}}return p(this,t,"m",R).call(this,"get workers for module "+e.name),p(this,t,"m",R).call(this,i),i},D=function(t){for(var i=0,a=p(e,n,"f",b);i<a.length;i++){var o=a[i];if(o.name===t&&o.status===r.pending)return!0}return!1},W=function(){return f(this,void 0,void 0,(function(){var i,r,a;return h(this,(function(o){switch(o.label){case 0:this.terminate(!0),i=0,r=p(e,n,"f",b),o.label=1;case 1:return i<r.length?(a=r[i],[4,p(this,t,"m",_).call(this,a)]):[3,4];case 2:o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))},F=function(){p(this,t,"m",x).call(this),0==p(this,s,"f").length&&0!=p(e,n,"f",b).length&&(p(this,t,"m",M).call(this,"no worker ready, reinit"),p(this,t,"m",W).call(this))},x=function(){m(this,s,p(this,s,"f").filter((function(e){return e.alive})),"f")},j=function(e,n,i){p(this,t,"m",R).call(this,"getWorkerByIntanceId"),p(this,t,"m",R).call(this,e);for(var r=9007199254740991,a=undefined,o=0,s=e;o<s.length;o++){var u=s[o];if(!i&&0!=Object.keys(u.Instances).length)return null;if(u.Instances[n]!=undefined){a=u;break}var l=u.howManyTasks;l<r&&(a=u,r=l)}return a?(a.Instances[n]="",p(this,t,"m",R).call(this,e),p(this,t,"m",M).call(this,"get worker "+n+" in "+a.id+" succeed!"),""!=p(this,v,"f")&&a.setLogFunc(p(this,c,"f"),p(this,g,"f")),a):(p(this,t,"m",R).call(this,"#getWorkerByIntanceId: no suitable worker"),null)},L=function(e,n){var i=p(this,s,"f");p(this,t,"m",R).call(this,"removeInstanceInWorkerInner"),p(this,t,"m",R).call(this,i);for(var r=0,a=i;r<a.length;r++){var o=a[r];if(o===e){o.Instances[n]!=undefined?(delete o.Instances[n],p(this,t,"m",R).call(this,i),p(this,t,"m",M).call(this,"removeInstanceInWorkerInner "+n+" in "+e.id+" succeed!")):p(this,t,"m",M).call(this,"not found instance "+n);break}}},C=function(e){return 0!=Object.keys(e.Instances).length},a={value:null},b={value:new Array},e}();!function(e){e.Text="Text",e.Link="Link",e.FreeText="FreeText",e.Line="Line",e.Square="Square",e.Circle="Circle",e.Polygon="Polygon",e.PolyLine="PolyLine",e.Hignlight="Hignlight",e.Underline="Underline",e.Squiggly="Squiggly",e.StrikeOut="StrikeOut",e.Stamp="Stamp",e.Caret="Caret",e.Ink="Ink",e.Popup="Popup"}(z||(z={})),function(e){e.None="none",e.Invisible="invisible",e.Hidden="hidden",e.Print="print",e.NoZoom="noZoom",e.NoRotate="noRotate",e.NoView="noView",e.ReadOnly="readOnly",e.Locked="locked",e.ToggleNoView="toggleNoView",e.LockedContents="lockedContents"}(U||(U={})),function(e){e.Solid="S",e.Dashed="D",e.Beveled="B",e.Insert="I",e.Underline="U"}(G||(G={})),function(e){e.NoEffect="S",e.Cloudy="C"}(V||(V={})),function(e){e.Comment="Comment",e.Key="Key",e.Note="Note",e.Help="Help",e.NewParagraph="NewParagraph",e.Paragraph="Paragraph",e.Insert="Insert"}(Y||(Y={})),function(e){e.Marked="Marked",e.Review="Review"}(q||(q={})),function(e){e.Accepted="Accepted",e.Rejected="Rejected",e.Cancelled="Cancelled",e.Completed="Completed",e.None="None"}(K||(K={})),function(e){e.None="None",e.Square="Square",e.Circle="Circle",e.Diamond="Diamond",e.OpenArrow="OpenArrow",e.ClosedArrow="ClosedArrow",e.Butt="Butt",e.ROpenArrow="ROpenArrow",e.RClosedArrow="RClosedArrow",e.Slash="Slash"}(Q||(Q={})),function(e){e[e.LeftJustified=0]="LeftJustified",e[e.Centered=1]="Centered",e[e.RightJustified=2]="RightJustified"}(X||(X={})),function(e){e.FreeText="FreeText",e.FreeTextCallout="FreeTextCallout",e.FreeTextTypeWriter="FreeTextTypeWriter"}(Z||(Z={})),function(e){e.LineArrow="LineArrow",e.LineDimension="LineDimension"}($||($={})),function(e){e.Approved="Approved",e.Experimental="Experimental",e.NotApproved="NotApproved",e.Asls="Asls",e.Expired="Expired",e.NotForPublicRelease="NotForPublicRelease",e.Confidential="Confidential",e.Final="Final",e.Sold="Sold",e.Departmental="Departmental",e.ForComment="ForComment",e.TopSecret="TopSecret",e.Draft="Draft",e.ForPublicRelease="ForPublicRelease"}(ee||(ee={}));var ne,ie,re,ae,oe,se=function(){this.annot=undefined},ue=function(){this.width=undefined,this.style=undefined,this.dash=undefined},le=function(){this.style=undefined,this.intensity=undefined},de=function(e){function t(t){var n=e.call(this,t)||this;return n.title=undefined,n.opacity=undefined,n.richText=undefined,n.creationDate=undefined,n.subject=undefined,n}return n(t,e),t}(function(){function e(e){this.type=undefined,this.rectangle=undefined,this.contents=undefined,this.name=undefined,this.modifiedDate=undefined,this.flags=undefined,this.border=undefined,this.color=undefined,this.normalAppearance=undefined,this.type=e}return e.prototype.toJsonString=function(){return JSON.stringify(this)},e}()),ce=function(e){function t(){var t=e.call(this,z.Text)||this;return t.open=undefined,t.iconName=undefined,t.state=undefined,t.stateModel=undefined,t}return n(t,e),t}(de),fe=function(e){function t(){var t=e.call(this,z.FreeText)||this;return t.defaultAppearance=undefined,t.q=undefined,t.defaultStyle=undefined,t.callout=undefined,t.intent=undefined,t.borderEffect=undefined,t.rectDifference=undefined,t.borderStyle=undefined,t.lineEnding=undefined,t}return n(t,e),t}(de),he=function(e){function t(t,n,i,r){var a=e.call(this,z.Line)||this;return a.line=undefined,a.borderStyle=undefined,a.lineEnding=undefined,a.interiorColor=undefined,a.leadLineLength=undefined,a.leadLineExtensionLength=undefined,a.caption=undefined,a.intent=undefined,a.leadLineOffsetLength=undefined,a.captionPosition=undefined,a.captionOffset=undefined,a.line=[t,n,i,r],a}return n(t,e),t}(de),pe=function(e){function t(){var t=e.call(this,z.Square)||this;return t.borderStyle=undefined,t.interiorColor=undefined,t.borderEffect=undefined,t.rectDifference=undefined,t}return n(t,e),t}(de),me=function(e){function t(){var t=e.call(this,z.Circle)||this;return t.borderStyle=undefined,t.interiorColor=undefined,t.borderEffect=undefined,t.rectDifference=undefined,t}return n(t,e),t}(de),ge=function(e){function t(){var t=e.call(this,z.Polygon)||this;return t.vertices=undefined,t.borderStyle=undefined,t.borderEffect=undefined,t}return n(t,e),t}(de),ye=function(e){function t(){var t=e.call(this,z.PolyLine)||this;return t.vertices=undefined,t.borderStyle=undefined,t.lineEnding=undefined,t.borderEffect=undefined,t}return n(t,e),t}(de),ve=function(e){function t(){var t=e.call(this,z.Hignlight)||this;return t.quadPoints=undefined,t}return n(t,e),t}(de),be=function(e){function t(){var t=e.call(this,z.Underline)||this;return t.quadPoints=undefined,t}return n(t,e),t}(de),Te=function(e){function t(){var t=e.call(this,z.StrikeOut)||this;return t.quadPoints=undefined,t}return n(t,e),t}(de),_e=function(e){function t(){var t=e.call(this,z.Squiggly)||this;return t.quadPoints=undefined,t}return n(t,e),t}(de),ke=function(e){function t(){var t=e.call(this,z.Stamp)||this;return t.name=undefined,t}return n(t,e),t}(de),Ie=function(e){function t(){var t=e.call(this,z.Ink)||this;return t.inkList=undefined,t.borderStyle=undefined,t}return n(t,e),t}(de),we=function(){function e(){}return e.PdfAnnotType=z,e.PdfAnnotFlag=U,e.PdfAnnotBorderStyleStyle=G,e.PdfAnnotBorderEffectStyle=V,e.PdfAnnotTextName=Y,e.PdfAnnotTextStateModel=q,e.PdfAnnotTextState=K,e.PdfAnnotLineEnding=Q,e.PdfAnnotFreeTextQuadding=X,e.PdfAnnotFreeTextIntent=Z,e.PdfAnnotLineIntent=$,e.PdfAnnotStampName=ee,e.PdfAnnotAppearance=se,e.PdfAnnotBorderStyle=ue,e.PdfAnnotBorderEffect=le,e.PdfTextAnnot=ce,e.PdfFreeTextAnnot=fe,e.PdfLineAnnot=he,e.PdfSquareAnnot=pe,e.PdfCircleAnnot=me,e.PdfPolygonAnnot=ge,e.PdfPolyLineAnnot=ye,e.PdfHighlightAnnot=ve,e.PdfUnderlineAnnot=be,e.PdfStrikeOutAnnot=Te,e.PdfSquigglyAnnot=_e,e.PdfRubberStampAnnot=ke,e.PdfInkAnnot=Ie,e}(),Se=function(){function e(){}return e.read=function(e){return new Promise((function(t,n){var i=Object.prototype.toString.call(e);if("[object String]"===i){if(0===e.indexOf("blob:")||e.indexOf(".jpg")>0||e.indexOf(".jpeg")>0||e.indexOf(".png")>0||e.indexOf(".bmp")>0||e.indexOf(".dib")>0||e.indexOf(".pdf")>0||e.indexOf(".tiff")>0||e.indexOf(".tif")>0)return fetch(e,{mode:"cors"}).then((function(e){return e.arrayBuffer()})).then((function(e){return t(e)}))["catch"]((function(e){return Promise.reject(e)}));n("Error url: Can not read the file URL")}else if("[object Blob]"===i||"[object FileList]"===i||"[object File]"===i){var r=e;"[object FileList]"!==i&&"[object File]"!==i||(r=e[0]?e[0]:e);var a=new FileReader;a.readAsArrayBuffer(r),a.onload=function(){var e=a.result;t(e)}}else"[object ArrayBuffer]"===i||"[object Uint8ClampedArray]"===i?t(e):n("Not support source type: "+i)}))},e}(),Pe=function(){function t(i,a){var s,A,B,D;n.add(this),d.set(this,void 0),this._outputType=e.ImageType.IT_JPG,this._inputType=e.ImageType.IT_ALL,this._jpegQuality=80,c.set(this,null!==(s=J.License)&&void 0!==s?s:""),f.set(this,[]),h.set(this,null),g.set(this,0),y.set(this,""),v.set(this,null),b.set(this,null),T.set(this,m(D=t,u,+p(D,u,"f",l)+1,"f",l)),_.set(this,null),k.set(this,JSON.parse(JSON.stringify(J.NavInfo))),I.set(this,J.Mobile),w.set(this,location.origin),S.set(this,""),P.set(this,r.init),R.set(this,!1),M.set(this,null!==(A=J.LicMode)&&void 0!==A?A:o.LONG_KEY),O.set(this,null!==(B=J.UUID)&&void 0!==B?B:""),this._handleBooleanResult=function(e,t){return!0},m(this,d,i,"f"),m(this,c,null!=a?a:J.License,"f"),this.setLog(J.LogLevel,J.LogFunc,J.LogContext)}var n,u,l,d,c,f,h,g,y,v,b,T,_,k,I,w,S,P,R,M,O,A,B,D,W,F,x,j;return t.prototype._prepareModule=function(e){},t.prototype.setLog=function(e,t,n){m(this,v,null!=t?t:null,"f"),m(this,b,n,"f"),m(this,y,null!=e?e:"","f")},t.prototype._log=function(e){"function"==typeof p(this,v,"f")&&p(this,v,"f").call(this,e,p(this,b,"f"))},t.prototype._logAll=function(e){p(this,y,"f")===i.logAll&&this._log(e)},t.prototype._handleBasicResult=function(e,t){return delete e.code,delete e.message,e},t.prototype._handleImageData=function(e,t){var i,r,a;if("object"==typeof e.imageData)if(e.imageCount!=undefined&&e.imageCount>1)for(var o=0;o<e.imageCount;o++)e.imageData[o]=p(i=t.context,n,"m",W).call(i,e.imageData[o],e.blobType,t.params.returnBlob);else e.imageData=p(r=t.context,n,"m",W).call(r,e.imageData,e.blobType,t.params.returnBlob);return"object"==typeof e.pdfData&&(e.pdfData=p(a=t.context,n,"m",W).call(a,e.pdfData,e.blobType,t.params.returnBlob)),e},t.prototype._handleResult=function(e,t){var i,r,o,u=p(r=t.context,n,"m",F).call(r,e);if(u.code===undefined||!u.code&&"Successful."===u.message)u=t.handleResult(u,t),p(o=t.context,n,"m",B).call(o),(0,t.resolve)(u);else{var l={code:u.code,message:u.code===s.wasmException?a.WASM_EXCEPTION_ERROR+"("+(null===(i=t.params)||void 0===i?void 0:i.moduleName)+":"+t.func+":"+u.message+")":u.message};t.context.terminated?t.resolve(l):t.reject(l)}},t.prototype._execTask=function(e){var t=this,i=p(t,h,"f");if(t._logAll(e),i)try{i.execTask(e.func,e.params).then((function(i){t._log(i),t._handleResult(p(t,n,"m",F).call(t,i),e)}))["catch"]((function(i){t._log(i),p(t,n,"m",B).call(t);var r=i;"object"==typeof i&&i.message!=undefined&&(r=i.message);var a={code:s.wasmJsWorkerRunFailed,message:r};p(t,R,"f")?e.resolve(a):e.reject(a)}))}catch(a){p(t,n,"m",B).call(t),t._log(a);var r={code:s.wasmJsWorkerRunException,message:a.message,stack:a.stack};p(t,R,"f")?e.resolve(r):e.reject(r)}},t.prototype._cancelAllTasks=function(e,t){for(var n=0,i=p(this,f,"f");n<i.length;n++){var r=i[n];if(r!==undefined){var a={code:e,message:t};p(this,R,"f")?r.resolve(a):r.reject(a)}}m(this,f,[],"f")},t.prototype._createTask=function(t,n,r){var a={moduleName:p(this,d,"f").name,insId:p(this,T,"f")},o={id:m(this,g,+p(this,g,"f")+1,"f"),func:t,params:a};return o.promise=new Promise((function(e,t){o.resolve=e,o.reject=t})),o.func=t,o.context=this,o.handleResult=void 0!==r&&r?r:this._handleBasicResult,o.params.input=void 0!==n&&n?n:"",o.params.returnType=e.ReturnedDataType.RT_AUTO,o.params.returnBlob=!0,J.LogLevel===i.logDebug&&(o.params.logLevel=i.logDebug),o},t.prototype._addTask=function(e,t){return p(this,P,"f")===r.destroyed?e.reject({code:s.wasmJsObjectNotInit,message:p(this,R,"f")?"object has been disposed":"object not init"}):p(this,P,"f")===r.failed?e.reject({code:s.wasmJsObjectInitFailed,message:p(this,S,"f")}):(t?p(this,f,"f").unshift(e):p(this,f,"f").push(e),p(this,n,"m",B).call(this)),e.promise},t.prototype.terminate=function(e){var t=this;e=null==e||e;var i=p(t,n,"m",j).call(t);m(t,R,!0,"f");var r=te.Instance;r&&r.removeInstanceInWorker(p(t,d,"f"),p(t,h,"f"),p(t,T,"f"),e),i.then((function(e){m(t,h,null,"f"),t._log(p(t,d,"f").name+" destroy return: "),t._log(e)}))["catch"]((function(e){m(t,h,null,"f"),t._log(p(t,d,"f").name+" destroy failed"),t._log(e)})),m(t,P,"","f")},t.prototype._readFile=function(e,t){return new Promise((function(i,r){return Se.read(e).then((function(e){i(e)}),(function(e){var i;p(i=t.context,n,"m",D).call(i,t,e,s.wasmJsReadFileFailed)}))["catch"]((function(e){var i;p(i=t.context,n,"m",D).call(i,t,e,s.wasmJsReadFileFailed)}))}))},u=t,d=new WeakMap,c=new WeakMap,f=new WeakMap,h=new WeakMap,g=new WeakMap,y=new WeakMap,v=new WeakMap,b=new WeakMap,T=new WeakMap,_=new WeakMap,k=new WeakMap,I=new WeakMap,w=new WeakMap,S=new WeakMap,P=new WeakMap,R=new WeakMap,M=new WeakMap,O=new WeakMap,n=new WeakSet,A=function L(e){var t=null!=e?e:this;if(p(t,_,"f")&&clearTimeout(p(t,_,"f")),p(t,h,"f")&&p(t,h,"f").alive)return p(t,h,"f");var i=te.Instance;i?i.getWorker(p(t,d,"f"),p(t,T,"f")).then((function(e){if(m(t,h,e,"f"),p(t,h,"f")&&p(t,h,"f").alive)p(t,f,"f").length>0&&p(t,n,"m",B).call(t);else{var r=i.getModuleLoadedError(p(t,d,"f").name);if(null==r?void 0:r.code)return t._cancelAllTasks(s.wasmJsNotLoaded,r.message),p(t,h,"f");p(t,f,"f").length>0&&m(t,_,setTimeout(p(t,n,"m",L),50,t),"f")}return p(t,h,"f")}))["catch"]((function(e){return p(t,h,"f")})):t._cancelAllTasks(s.wasmJsNotLoaded,"wasm env not loaded or unloaded")},B=function(){if(this._logAll(p(this,f,"f")),p(this,P,"f")!=r.init)if(p(this,h,"f")&&p(this,h,"f").alive){if(p(this,f,"f").length>0){var e=p(this,f,"f")[0];p(this,P,"f")!==r.ready&&"init"!==e.func||(delete p(this,f,"f")[0],p(this,f,"f").splice(0,1),this._execTask(e))}}else{if(p(this,h,"f")&&!p(this,h,"f").alive&&p(this,f,"f").length>0&&"init"!=p(this,f,"f")[0].func)return m(this,h,null,"f"),void p(this,n,"m",x).call(this);p(this,f,"f").length>0&&p(this,n,"m",A).call(this,this)}else p(this,n,"m",x).call(this)},D=function(e,t,n){var i=t;return"object"!=typeof i&&((i={}).code=n,i.message=t),e.context.terminated?e.resolve(i):e.reject(i)},W=function(e,t,n){return n?t!=undefined?new Blob([e],{type:t}):new Blob([e]):e},F=function(e){try{return"string"==typeof e?JSON.parse(e):e}catch(t){return e}},x=function(){var e=this;e._prepareModule(p(this,d,"f"));var t=this._createTask("init");t.params.key=p(this,c,"f"),t.params.uuid=p(this,O,"f"),t.params.licMode=p(this,M,"f"),t.params.val={nv:p(this,k,"f"),mb:p(this,I,"f"),dm:p(this,w,"f")},t.handleResult=function(e,t){return m(t.context,P,r.ready,"f"),e},m(this,P,r.pending,"f"),this._addTask(t,!0),t.promise.then((function(t){e._log(p(e,d,"f").name+" init return: "),e._log(t)}))["catch"]((function(t){m(e,P,r.failed,"f"),m(e,S,t.message,"f"),e._log(p(e,d,"f").name+" init failed"),e._log(t),e._cancelAllTasks(s.wasmJsObjectInitFailed,t.message)}))},j=function(){if(p(this,P,"f")==r.pending||p(this,P,"f")==r.ready){var e=this._createTask("destroy");return this._addTask(e),e.promise}return Promise.resolve(!0)},l={value:0},t}(),Re=function(e){function t(t,n){return e.call(this,t,n)||this}return n(t,e),t.prototype._prepareModule=function(e){var n=te.Instance;n.addModules(J.ImageIOModule),J.LicMode===o.DLS_KEY&&n.addModules(J.CryptoModule),p(t,ne,"m",ie).call(t,J.ImageIOModule,e),n.addModules(e)},t}(Pe);ne=Re,ie=function(e,t){t.resourceDir=e.resourceDir,t.crossScript=e.crossScript,t.script=e.script,t.useSimd=e.useSimd,t.name===i.imgProc?t.useSimd=J.UseSimd:t.useSimd=!1,t.fetchOptions=e.fetchOptions,t.defHeapSize=e.defHeapSize,t.maxHeapSize=e.maxHeapSize};var Me,Oe=function(t){function i(e){var n=t.call(this,J.ImagecoreModule,e)||this;return re.add(n),ae.set(n,0),n}return n(i,t),i.prototype.getImageFormat=function(e){return f(this,void 0,void 0,(function(){var t,n,i;return h(this,(function(r){switch(r.label){case 0:return n=(t=this)._createTask("GetImageFormat"),[4,t._readFile(e,n)];case 1:return i=r.sent(),n.params.input=i,t._addTask(n),[2,n.promise]}}))}))},i.prototype.readImageInfo=function(e){return f(this,void 0,void 0,(function(){var t,n,i;return h(this,(function(r){switch(r.label){case 0:return n=(t=this)._createTask("ReadImageInfo"),[4,t._readFile(e,n)];case 1:return i=r.sent(),n.params.input=i,t._addTask(n),[2,n.promise]}}))}))},i.prototype.getMD5=function(e){return f(this,void 0,void 0,(function(){var t,n,i;return h(this,(function(r){switch(r.label){case 0:return n=(t=this)._createTask("GetMD5"),[4,t._readFile(e,n)];case 1:return i=r.sent(),n.params.input=i,n.handleResult=function(e,t){return e.MD5},t._addTask(n),[2,n.promise]}}))}))},i.prototype.getLicenseInfo=function(){return f(this,void 0,void 0,(function(){return h(this,(function(e){return[2,this._addTask(this._createTask("GetLicenseInfo"))]}))}))},i.prototype.getAesResult=function(e){return f(this,void 0,void 0,(function(){return h(this,(function(t){return e=null!=e?e:"",[2,this._addTask(this._createTask("GetAesResult",[e]))]}))}))},i.prototype.saveImage=function(e,t,n,i,r){return f(this,void 0,void 0,(function(){return h(this,(function(a){return(r=null!=r&&r)?[2,p(this,re,"m",oe).call(this,e,undefined,undefined,undefined,1,undefined,undefined,t,n,i)]:[2,p(this,re,"m",oe).call(this,e,undefined,undefined,undefined,undefined,undefined,undefined,t,n,i)]}))}))},i.prototype.readImage=function(t,n,i,r,a){return f(this,void 0,void 0,(function(){var o,s,u;return h(this,(function(l){switch(l.label){case 0:return n=null!=n?n:this._outputType,i=null!=i?i:this._jpegQuality,r=null!=r&&r,a=null!=a&&a,s=(o=this)._createTask("ReadImage"),[4,o._readFile(t,s)];case 1:return u=l.sent(),s.params.input=[u,n,i,a],s.params.returnType=r?e.ReturnedDataType.RT_BASE64:e.ReturnedDataType.RT_AUTO,s.params.returnBlob=!r,s.handleResult=o._handleImageData,o._addTask(s),[2,s.promise]}}))}))},i.prototype.openTiff=function(e){return f(this,void 0,void 0,(function(){var t,n,i,r,a;return h(this,(function(o){switch(o.label){case 0:return n=(t=this)._createTask("LoadTiff"),[4,t._readFile(e,n)];case 1:return i=o.sent(),n.params.input=i,t._addTask(n),[4,n.promise];case 2:return(r=o.sent()).srcBuffer&&"[object ArrayBuffer]"!=(a=Object.prototype.toString.call(e))&&"[object Uint8ClampedArray]"!=a&&delete r.srcBuffer,[2,r]}}))}))},i.prototype.readTiff=function(t,n,i,r){t=null!=t?t:0,n=null!=n?n:this._outputType,i=null!=i&&i,r=null!=r&&r;var a=this._createTask("ReadTiffPage");return a.params.input=[t,n,r],a.params.returnType=i?e.ReturnedDataType.RT_BASE64:e.ReturnedDataType.RT_AUTO,a.params.returnBlob=!i,a.handleResult=this._handleImageData,this._addTask(a)},i.prototype.readTiffInfo=function(e){e=null!=e?e:0;var t=this._createTask("GetTiffPageInfo");return t.params.input=[e],this._addTask(t)},i.prototype.closeTiff=function(){return this._addTask(this._createTask("EndReadTiff",null,this._handleBooleanResult))},i.prototype.createTiff=function(){return this._addTask(this._createTask("NewTiff",null,this._handleBooleanResult))},i.prototype.appendImage=function(e,t,n,i,r){return f(this,void 0,void 0,(function(){var a,o,s;return h(this,(function(u){switch(u.label){case 0:return t=null!=t?t:this._inputType,n=null!=n?n:p(this,ae,"f"),i=null!=i?i:this._jpegQuality,r=null!=r&&r,o=(a=this)._createTask("AppendImageToTiff"),[4,a._readFile(e,o)];case 1:return s=u.sent(),o.params.input=[s,t,n,i,r],o.handleResult=a._handleBooleanResult,a._addTask(o),[2,o.promise]}}))}))},i.prototype.addTag=function(e,t,n){return n=null!=n&&n,this._addTask(this._createTask("AddTagToNextPage",[e,t,n],this._handleBooleanResult))},i.prototype.getTiff=function(t){var n=this._createTask("GetTiffStream");return n.handleResult=this._handleImageData,n.params.returnType=null!=t?t:e.ReturnedDataType.RT_AUTO,n.params.returnBlob=t!=e.ReturnedDataType.RT_AUTO,this._addTask(n)},i.prototype.getMemoryUsed=function(){return this._addTask(this._createTask("getMemoryUsed",null,(function(e,t){return e.memoryUsed})))},i.prototype.getMultiPartFile=function(e,t){return this._addTask(this._createTask("ds_get_file",[e,t],(function(e,t){return e})))},i}(Re);ae=new WeakMap,re=new WeakSet,oe=function(t,n,i,r,a,o,s,u,l,d){return f(this,void 0,void 0,(function(){var c,f,p;return h(this,(function(h){switch(h.label){case 0:return c=this,n=null!=n?n:this._inputType,i=null!=i?i:0,r=null!=r?r:0,a=null!=a?a:24,o=null!=o?o:96,s=null!=s?s:96,u=null!=u?u:this._outputType,l=null!=l?l:this._jpegQuality,d=null!=d?d:e.ReturnedDataType.RT_AUTO,f=c._createTask("SaveImage"),[4,c._readFile(t,f)];case 1:return p=h.sent(),f.params.input=[p,n,i,r,a,o,s,u,l],f.params.returnType=d,f.params.returnBlob=d!=e.ReturnedDataType.RT_BASE64,f.handleResult=c._handleImageData,c._addTask(f),[2,f.promise]}}))}))},function(e){e[e.NearestNeighbour=1]="NearestNeighbour",e[e.Bilinear=2]="Bilinear",e[e.Bicublic=3]="Bicublic",e[e.BestQuality=5]="BestQuality"}(Me||(Me={}));var Ae,Be,De=function(t){function i(e){return t.call(this,J.ImageProcModule,e)||this}return n(i,t),i.prototype.initImage=function(t,n,i,r,a){return f(this,void 0,void 0,(function(){var o,s,u;return h(this,(function(l){switch(l.label){case 0:return n=null!=n&&n,i=null!=i?i:0,r=null!=r?r:0,a=null!=a&&a,(s=(o=this)._createTask("InitImageObject")).params.input=[t,i,r],n||a?(n?s.params.input.push(e.ImageType.IT_RGBA):s.params.input.push(e.ImageType.IT_BGRA),o._addTask(s),[3,3]):[3,1];case 1:return[4,o._readFile(t,s)];case 2:u=l.sent(),s.params.input[0]=u,s.params.input.push(e.ImageType.IT_ALL),o._addTask(s),l.label=3;case 3:return[2,s.promise]}}))}))},i.prototype.rotate=function(e,t,n,i){return e=null!=e?e:0,n=null!=n&&n,i=null!=i?i:Me.Bicublic,t=null!=t?t:"FFFFFF",(e<0||e>360)&&(e%=360)<0&&(e+=360),this._addTask(this._createTask("RotateEx",[e,n,i,t],this._handleBooleanResult))},i.prototype.flip=function(e){e=null!=e?e:1;var t=this._createTask("");return t.handleResult=this._handleBooleanResult,1===e?t.func="Flip":-1===e&&(t.func="Mirror"),this._addTask(t),t.promise},i.prototype.erase=function(e,t,n,i,r){r=r!=undefined?r:"FFFFFF";var a=this._createTask("Erase");return a.handleResult=this._handleBooleanResult,a.params.input=[e,t,n,i,r],this._addTask(a),a.promise},i.prototype.crop=function(e,t,n,i){return this._addTask(this._createTask("Crop",[e,t,n,i],this._handleBooleanResult))},i.prototype.resize=function(e,t,n){return n=null!=n?n:Me.BestQuality,this._addTask(this._createTask("ChangeImageSize",[e,t,n],this._handleBooleanResult))},i.prototype.toGrayscale=function(e){(e=null!=e?e:1)<1&&(e=1),e>3&&(e=3);var t="";return 1===e?t="0":2===e?t="3;3;720;1.05":3===e&&(t="3;5;1080;1.05"),this._addTask(this._createTask("ConvertToGrayScale",t,this._handleBooleanResult))},i.prototype.toBinary=function(e,t){(t=t!=undefined?t:1)<1&&(t=1),t>3&&(t=3);var n="";return e!=undefined&&(e?n="1":1===t?n="0":2===t?n="2;3;720;1.05":3===t&&(n="2;5;1080;1.05")),this._addTask(this._createTask("ConvertToBWScale",n,this._handleBooleanResult))},i.prototype.invert=function(){return this._addTask(this._createTask("Invert",null,this._handleBooleanResult))},i.prototype.setImageWidth=function(e,t){return t=null!=t?t:"FFFFFF",this._addTask(this._createTask("SetImageWidth",[e,t],this._handleBooleanResult))},i.prototype.setImageHeight=function(e,t){return t=null!=t?t:"FFFFFF",this._addTask(this._createTask("SetImageHeight",[e,t],this._handleBooleanResult))},i.prototype.setDPI=function(e,t,n,i,r,a){return r=null!=r&&r,a=null!=a?a:Me.Bilinear,this._addTask(this._createTask("SetDPI",[e,t,n,i,r,a],this._handleBooleanResult))},i.prototype.getImage=function(t,n,i,r,a,o,s,u,l){t=t!=undefined?t:this._jpegQuality,n=n==undefined||n,i=i!=undefined&&i,r=r!=undefined?r:0,a=a!=undefined?a:0,o=o!=undefined?o:0,s=s==undefined||s,u=i&&u==undefined?e.ImageType.IT_JPG:u!=undefined?u:e.ImageType.IT_ALL,l=null!=l&&l;var d=this._createTask("GetCurrentImage");return d.params.input=[u,r,a,o,!1,t,n,l],d.params.returnBlob=s,d.handleResult=this._handleImageData,this._addTask(d)},i.prototype.getSkewAngle=function(e){return e=null!=e?e:"",this._addTask(this._createTask("GetSkewAngle",[e],(function(e,t){return e.skewAngle})))},i.prototype.freeReservedData=function(){return this._addTask(this._createTask("FreeReservedData",null,this._handleBooleanResult))},i.prototype.detectDocument=function(e,t,n,i,r){return e=null!=e?e:Me.Bilinear,t=null!=t?t:75,n=null!=n?n:100,i=null!=i?i:0,r=null!=r?r:"",this._addTask(this._createTask("DocumentDetect",[e,t/100,n,i/255,r,"1"]))},i.prototype.perspective=function(e,t,n,i,r,a,o,s){return this._addTask(this._createTask("Perspective",[e,t,n,i,r,a,o,s],this._handleBooleanResult))},i.prototype.changeBrightness=function(e,t){return e=null!=e?e:0,0!=(t=null!=t?t:1)&&1!=t&&(t=0),1===t?this._addTask(this._createTask("ChangeBrightnessAndContrast",[e,0],this._handleBooleanResult)):this._addTask(this._createTask("ChangeBrightness",[Math.floor(e/1e3*255)],this._handleBooleanResult))},i.prototype.changeContrast=function(e,t){return e=null!=e?e:0,0!=(t=null!=t?t:1)&&1!=t&&(t=0),1===t?this._addTask(this._createTask("ChangeBrightnessAndContrast",[0,e],this._handleBooleanResult)):this._addTask(this._createTask("ChangeContrast",[1+e/1e3],this._handleBooleanResult))},i.prototype.changeBrightnessAndContrast=function(e,t){return e=null!=e?e:0,t=null!=t?t:0,this._addTask(this._createTask("ChangeBrightnessAndContrast",[e,t],this._handleBooleanResult))},i.prototype.removeShadow=function(e,t){t=null!=t?t:1.05,(e=null!=e?e:1)<1&&(e=1),e>3&&(e=3);var n="5";return 1===e?n+=";3;720;"+t:2===e?n+=";5;1080;"+t:3===e&&(n+=";10;0;"+t),this._addTask(this._createTask("ShadowRemovel",[n],this._handleBooleanResult))},i.prototype.enhanceAndSharpenImage=function(){return this._addTask(this._createTask("EnhanceAndSharpen",[""],this._handleBooleanResult))},i.prototype.brighten=function(){return this._addTask(this._createTask("Brighten",[""],this._handleBooleanResult))},i.prototype.getBlurryScore=function(){return this._addTask(this._createTask("GetBlurScore",[""],(function(e,t){return e.blurryScore})))},i.prototype.drawQuadrangle=function(e,t,n,i,r,a,o,s,u,l){var d=(u=null!=u?u:"FFFFFF")+";"+(l=null!=l?l:5);return this._addTask(this._createTask("DrawQuadrangle",[e,t,n,i,r,a,o,s,d],this._handleBooleanResult))},i}(Re),We=function(){function t(){}return t.resize=function(e,t,n,i,r,a){return f(this,void 0,void 0,(function(){var o,s,u,l,d;return h(this,(function(c){switch(c.label){case 0:if(i<=0||i>=t&&i>=n)return[2,{imageData:e}];a=null!=a&&a,o=new De,c.label=1;case 1:return c.trys.push([1,,9,10]),[4,o.initImage(e)];case 2:return c.sent(),s=void 0,u=void 0,void 0,d=null!=r?r:Me.BestQuality,l=t>n?t/i:n/i,s=Math.floor(t/l+.5),u=Math.floor(n/l+.5),a?[4,o.resize(s,u,d)]:[3,5];case 3:return c.sent(),[4,o.toBinary(!1)];case 4:return c.sent(),[3,7];case 5:return[4,o.resize(s,u,d)];case 6:c.sent(),c.label=7;case 7:return[4,o.getImage()];case 8:return[2,c.sent()];case 9:return o.terminate(),[7];case 10:return[2]}}))}))},t.createImage=function(t){var n,i,r,a,o,s,u,l,d;return f(this,void 0,void 0,(function(){var c,f,m,g,y,v,b,T,_,k,I,w,S,P,R,M,O,A,B,D,W,F,x,j,L,C;return h(this,(function(h){switch(h.label){case 0:c=new De,h.label=1;case 1:return h.trys.push([1,,14,15]),f={src:null,result:null,preview:null},m=t.source,g=t.output,y=null!==(i=null!==(n=m.imageWidth)&&void 0!==n?n:m.width)&&void 0!==i?i:0,v=null!==(a=null!==(r=m.imageHeight)&&void 0!==r?r:m.height)&&void 0!==a?a:0,b=m.imageData||m.data,g==undefined||g.orgImage==undefined&&g.previewImage==undefined?[2,f]:(T=null!==(o=m.rgba)&&void 0!==o&&o,_=null!==(s=m.bgra)&&void 0!==s&&s,k=null!==(u=t.doPerspective)&&void 0!==u&&u,I=m.angle||0,[4,c.initImage(b,T,y,v,_)]);case 2:return w=h.sent(),f.src=w.srcBuffer,k&&t.polygon?[4,c.perspective(t.polygon.points[0],t.polygon.points[1],t.polygon.points[2],t.polygon.points[3],t.polygon.points[4],t.polygon.points[5],t.polygon.points[6],t.polygon.points[7])]:[3,4];case 3:h.sent(),h.label=4;case 4:return 0==I?[3,6]:((I<0||I>360)&&(I%=360)<0&&(I+=360),[4,c.rotate(I)]);case 5:h.sent(),h.label=6;case 6:return g.orgImage?(S=g.orgImage.returnBlob==undefined||g.orgImage.returnBlob,P=m.imageBitDepth!=undefined?m.imageBitDepth:undefined,R=m.imageXResolution!=undefined?m.imageXResolution:undefined,M=m.imageYResolution!=undefined?m.imageYResolution:undefined,O=J.NavInfo.bMac||J.NavInfo.biPhone||J.NavInfo.biPad,[4,c.getImage(g.orgImage.quality,!1,T||_,P,R,M,S,g.orgImage.returnType,O)]):[3,8];case 7:A=h.sent(),g.orgImage.returnType==e.ImageType.IT_BGRA?A.bgra=!0:g.orgImage.returnType==e.ImageType.IT_RGBA&&(A.rgba=!0),f.result=A,h.label=8;case 8:return g.previewImage?(B=y,D=v,90!=I&&270!=I||(B=v,D=y),W=Math.min((null!==(l=g.previewImage.width)&&void 0!==l?l:y)/B,(null!==(d=g.previewImage.height)&&void 0!==d?d:v)/D),F=void 0,x=void 0,90==I||270==I?(F=Math.floor(v*W+.5),x=Math.floor(y*W+.5)):(F=Math.floor(y*W+.5),x=Math.floor(v*W+.5)),[4,c.resize(F,x,g.previewImage.nInterplationMethod)]):[3,13];case 9:return h.sent(),!t.polygon||k?[3,11]:(j=t.polygon.points,0!=I&&(j=p(this,Ae,"m",Be).call(this,j,I,B,D)),[4,c.drawQuadrangle(Math.floor(j[0]*W+.5),Math.floor(j[1]*W+.5),Math.floor(j[2]*W+.5),Math.floor(j[3]*W+.5),Math.floor(j[4]*W+.5),Math.floor(j[5]*W+.5),Math.floor(j[6]*W+.5),Math.floor(j[7]*W+.5),t.polygon.strokeColor,t.polygon.lineWidth)]);case 10:h.sent(),h.label=11;case 11:return L=g.previewImage.returnBlob==undefined||g.previewImage.returnBlob,[4,c.getImage(g.previewImage.quality,!0,T||_,undefined,undefined,undefined,L,g.previewImage.returnType)];case 12:C=h.sent(),g.previewImage.returnType==e.ImageType.IT_BGRA?C.bgra=!0:g.previewImage.returnType==e.ImageType.IT_RGBA&&(C.rgba=!0),f.preview=C,h.label=13;case 13:return[2,f];case 14:return c.terminate(),[7];case 15:return[2]}}))}))},t.resizeImageWithMeta=function(t,n,i,r,a){return f(this,void 0,void 0,(function(){var o,s,u,l,d,c,f,p,m,g;return h(this,(function(h){switch(h.label){case 0:o=null!=r?r:85,s=new De,u=null!=a?a:0,h.label=1;case 1:return h.trys.push([1,,9,10]),[4,s.initImage(t)];case 2:return h.sent(),l=void 0,d=void 0,c=null!=i?i:Me.BestQuality,n.imageWidth>n.imageHeight?(l=u,d=Math.floor(n.imageHeight*u/n.imageWidth+.5)):(l=Math.floor(n.imageWidth*u/n.imageHeight+.5),d=u),1!=n.imageBitDepth?[3,5]:[4,s.resize(l,d,c)];case 3:return h.sent(),[4,s.toBinary(!1)];case 4:return h.sent(),[3,7];case 5:return[4,s.resize(l,d,c)];case 6:h.sent(),h.label=7;case 7:return f=n.imageBitDepth,p=n.imageXResolution,m=n.imageYResolution,g=1==f?e.ImageType.IT_PNG:e.ImageType.IT_JPG,[4,s.getImage(o,!1,!1,f,p,m,!0,g)];case 8:return[2,h.sent()];case 9:return s.terminate(),[7];case 10:return[2]}}))}))},t.getMax4kImage=function(n,i,r,a){return f(this,void 0,void 0,(function(){var o,s,u,l,d;return h(this,(function(c){switch(c.label){case 0:o=null!=r?r:85,u=new Oe,c.label=1;case 1:return c.trys.push([1,,3,4]),[4,u.readImageInfo(n)];case 2:return l=c.sent(),s={imageWidth:l.imageWidth,imageHeight:l.imageHeight,imageBitDepth:l.imageBitDepth,imageXResolution:l.imageXResolution,imageYResolution:l.imageYResolution},[3,4];case 3:return u.terminate(),[7];case 4:return(J.NavInfo.biPhone||J.NavInfo.biPad)&&a&&(s.imageWidth>a||s.imageHeight>a)?[4,t.resizeImageWithMeta(n,s,i,r,a)]:[3,6];case 5:return[2,c.sent()];case 6:u=new Oe,c.label=7;case 7:return c.trys.push([7,,9,10]),d=1==s.imageBitDepth?e.ImageType.IT_PNG:e.ImageType.IT_JPG,[4,u.readImage(n,d,o,!1)];case 8:return[2,c.sent()];case 9:return u.terminate(),[7];case 10:return[2]}}))}))},t}();Ae=We,Be=function(e,t,n,i){for(var r=[],a=0;a<e.length;a+=2){var o=void 0,s=void 0,u=e[a],l=e[a+1];90==t?(o=n-l,s=u):180==t?(o=n-u,s=i-l):270==t?(o=l,s=i-u):(o=u,s=l),r.push(o,s)}return r};var Fe,xe,je,Le=function(){function e(){}return e.decode=function(e){var t={encodeChars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",decodeChars:[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1]};function n(e){var t,n,i,r,a=[],o=e.length;for(t=0;t<o;t++)0==((n=e.charCodeAt(t))>>7&255)?a.push(e.charAt(t)):6==(n>>5&255)?(r=(31&n)<<6|63&(i=e.charCodeAt(++t)),a.push(String.fromCharCode(r))):14==(n>>4&255)&&(r=(255&(n<<4|(i=e.charCodeAt(++t))>>2&15))<<8|(3&i)<<6|63&e.charCodeAt(++t),a.push(String.fromCharCode(r)));return a.join("")}return function(e){for(var i,r,a,o,s=[],u=0,l=e.length;u<l;){do{i=t.decodeChars[255&e.charCodeAt(u++)]}while(u<l&&-1==i);if(-1==i)break;do{r=t.decodeChars[255&e.charCodeAt(u++)]}while(u<l&&-1==r);if(-1==r)break;s.push(String.fromCharCode(i<<2|(48&r)>>4));do{if(61==(a=255&e.charCodeAt(u++)))return n(s.join(""));a=t.decodeChars[a]}while(u<l&&-1==a);if(-1==a)break;s.push(String.fromCharCode((15&r)<<4|(60&a)>>2));do{if(61==(o=255&e.charCodeAt(u++)))return n(s.join(""));o=t.decodeChars[o]}while(u<l&&-1==o);if(-1==o)break;s.push(String.fromCharCode((3&a)<<6|o))}return n(s.join(""))}(e)},e}();!function(e){e[e.render=1]="render",e[e.extractImageOnly=2]="extractImageOnly",e[e.auto=3]="auto",e[e.renderWithAnnot=4]="renderWithAnnot"}(je||(je={}));var Ce=function(t){function i(n){var i=t.call(this,J.PdfReaderModule,n)||this;return Fe.set(i,200),xe.set(i,3),i._outputType=e.ImageType.IT_ALL,i}return n(i,t),i.prototype.open=function(e,t){return f(this,void 0,void 0,(function(){var n,i,r;return h(this,(function(a){switch(a.label){case 0:return t=null!=t?t:"",i=(n=this)._createTask("LoadPdf"),[4,n._readFile(e,i)];case 1:return r=a.sent(),i.params.input=[r,t],i.handleResult=function(t,n){if(t.srcBuffer){var i=Object.prototype.toString.call(e);"[object ArrayBuffer]"!=i&&"[object Uint8ClampedArray]"!=i&&delete t.srcBuffer}var r=Le.decode(t.infoBase64);try{var a=void 0;try{r.replace(new RegExp("\\\\","gi"),"\\\\"),a=JSON.parse(r)}catch(u){a=r}var o={PdfCount:t.pageCount,PdfInfo:a,isTextBased:t.isTextBased};return t.srcBuffer&&(o.srcBuffer=t.srcBuffer,delete t.srcBuffer),o}catch(l){n.reject({code:s.wasmJsInvalidJson,message:l.message,stack:l.stack})}},n._addTask(i),[2,i.promise]}}))}))},i.prototype.readPage=function(t,n,i,r,a,o,s){return f(this,void 0,void 0,(function(){var u;return h(this,(function(l){return t=null!=t?t:0,n=null!=n?n:p(this,Fe,"f"),i=null!=i?i:p(this,xe,"f"),r=null!=r?r:this._outputType,o=null!=o&&o,a=null!=a&&a,s=null!=s&&s,(u=this._createTask("ReadPdfPage")).params.input=[t,n,i,r,a,s],u.params.returnType=o?e.ReturnedDataType.RT_BASE64:e.ReturnedDataType.RT_AUTO,u.params.returnBlob=!o,u.handleResult=this._handleImageData,[2,this._addTask(u)]}))}))},i.prototype.close=function(){return f(this,void 0,void 0,(function(){return h(this,(function(e){return[2,this._addTask(this._createTask("UnloadPdf",null,this._handleBooleanResult))]}))}))},i.prototype.readPageAnnot=function(e){return f(this,void 0,void 0,(function(){var t;return h(this,(function(n){return e=null!=e?e:0,(t=this._createTask("ReadPdfAnnot",[e])).handleResult=function(e,t){var n=Le.decode(e.annotBase64);try{var i=void 0;try{n.replace(new RegExp("\\\\","gi"),"\\\\"),i=JSON.parse(n)}catch(r){i=n}return{code:e.code,message:e.message,pageIndex:e.pageIndex,annots:i}}catch(a){t.reject({code:s.wasmJsInvalidJson,message:a.message,stack:a.stack})}},[2,this._addTask(t)]}))}))},i.prototype.setRenderLimitImageSize=function(e,t){return f(this,void 0,void 0,(function(){return h(this,(function(n){return e=null!=e?e:0,t=null!=t?t:0,[2,this._addTask(this._createTask("SetRenderLimitImageSize",[e,t],this._handleBooleanResult))]}))}))},i.prototype.findText=function(e,t,n){return f(this,void 0,void 0,(function(){return h(this,(function(i){return n=null!=n?n:0,[2,this._addTask(this._createTask("FindText",[e,t,n]))]}))}))},i.prototype.addSystemFont=function(e,t){return f(this,void 0,void 0,(function(){return h(this,(function(n){return[2,this._addTask(this._createTask("AddSystemFont",[e,t]))]}))}))},i.prototype.getModifiedPdf=function(t){return f(this,void 0,void 0,(function(){var n;return h(this,(function(i){return(n=this._createTask("GetModifiedPdf")).params.returnType=null!=t?t:e.ReturnedDataType.RT_AUTO,n.params.returnBlob=t!=e.ReturnedDataType.RT_AUTO,n.handleResult=this._handleImageData,[2,this._addTask(n)]}))}))},i.prototype.addAnnot=function(e,t){return f(this,void 0,void 0,(function(){var n;return h(this,(function(i){return e=e!=undefined?e:0,n=t.toJsonString(),[2,this._addTask(this._createTask("PageAddAnnot",[e,n],this._handleBooleanResult))]}))}))},i.prototype.addImage=function(e,t,n){return f(this,void 0,void 0,(function(){var i,r,a,o;return h(this,(function(s){switch(s.label){case 0:return e=e!=undefined?e:0,i=JSON.stringify(n),a=(r=this)._createTask("PageAddImage"),[4,r._readFile(t,a)];case 1:return o=s.sent(),a.params.input=[e,i,o,0,0],a.handleResult=r._handleBooleanResult,r._addTask(a),[2,a.promise]}}))}))},i.prototype.addText=function(e,t){return f(this,void 0,void 0,(function(){var n;return h(this,(function(i){return e=null!=e?e:0,n=JSON.stringify(t),[2,this._addTask(this._createTask("PageAddText",[e,n],this._handleBooleanResult))]}))}))},i.prototype.addPath=function(e,t){return f(this,void 0,void 0,(function(){var n;return h(this,(function(i){return n=JSON.stringify(t),[2,this._addTask(this._createTask("PageAddPath",[e,n],this._handleBooleanResult))]}))}))},i.prototype.deleteAnnot=function(e,t){return f(this,void 0,void 0,(function(){return h(this,(function(n){return e=null!=e?e:0,t=null!=t?t:0,[2,this._addTask(this._createTask("PageDeleteAnnot",[e,t],this._handleBooleanResult))]}))}))},i.prototype.deletePage=function(e){return f(this,void 0,void 0,(function(){return h(this,(function(t){return e=null!=e?e:0,[2,this._addTask(this._createTask("DeletePdfPage",[e],this._handleBooleanResult))]}))}))},i.prototype.changePagesOrder=function(e){return f(this,void 0,void 0,(function(){var t,n;return h(this,(function(i){for(e=null!=e?e:[],t="",n=0;n<e.length;n++)0!=n&&(t+=","),t+=e[n]+1;return[2,this._addTask(this._createTask("ChangePagesOrder",[t],this._handleBooleanResult))]}))}))},i.prototype.rotatePageLeft=function(e){return f(this,void 0,void 0,(function(){return h(this,(function(t){return e=null!=e?e:0,[2,this._addTask(this._createTask("PageRotateLeft",[e],this._handleBooleanResult))]}))}))},i.prototype.rotatePageRight=function(e){return f(this,void 0,void 0,(function(){return h(this,(function(t){return e=null!=e?e:0,[2,this._addTask(this._createTask("PageRotateRight",[e],this._handleBooleanResult))]}))}))},i.prototype.insertBlankPage=function(e,t,n){return f(this,void 0,void 0,(function(){return h(this,(function(i){return e=null!=e?e:0,t=null!=t?t:595,n=null!=n?n:842,[2,this._addTask(this._createTask("InsertBlankPdfPage",[e,t,n],this._handleBooleanResult))]}))}))},i.prototype.mergePdf=function(e,t,n,i){return f(this,void 0,void 0,(function(){var r,a,o,s,u;return h(this,(function(l){switch(l.label){case 0:for(i=null!=i?i:-1,n=null!=n?n:[],t=null!=t?t:"",a=(r=this)._createTask("MergePdfPage"),o="",s=0;s<n.length;s++)0!=s&&(o+=","),o+=n[s]+1;return[4,r._readFile(e,a)];case 1:return u=l.sent(),a.params.input=[u,i,t,o],a.handleResult=r._handleBooleanResult,r._addTask(a),[2,a.promise]}}))}))},i.prototype.getPageInfo=function(e){return f(this,void 0,void 0,(function(){return h(this,(function(t){return e=null!=e?e:0,[2,this._addTask(this._createTask("GetPdfPageInfo",[e]))]}))}))},i}(Pe);Fe=new WeakMap,xe=new WeakMap;var Ee,Ne,Je,He,ze,Ue=function(e){function t(t){return e.call(this,t)||this}return n(t,e),t.prototype.readPage=function(t,n,i,r,a,o,s,u,l,d){return f(this,void 0,void 0,(function(){var c,f;return h(this,(function(h){switch(h.label){case 0:return[4,e.prototype.readPage.call(this,t,n,i,r,a,o,s)];case 1:return c=h.sent(),f={imageWidth:c.imageWidth,imageHeight:c.imageHeight,imageBitDepth:c.imageBitDepth,imageXResolution:c.imageXResolution,imageYResolution:c.imageYResolution},d&&(f.imageWidth>d||f.imageHeight>d)?[4,We.resizeImageWithMeta(c.imageData,f,u,l,d)]:[3,3];case 2:return[2,h.sent()];case 3:return[2,c]}}))}))},t}(Ce),Ge=function(e){function t(t){return e.call(this,t)||this}return n(t,e),t.prototype.readTiff=function(t,n,i,r,a,o,s){return f(this,void 0,void 0,(function(){var u,l;return h(this,(function(d){switch(d.label){case 0:return[4,e.prototype.readTiff.call(this,t,n,i,r)];case 1:return u=d.sent(),l={imageWidth:u.imageWidth,imageHeight:u.imageHeight,imageBitDepth:u.imageBitDepth,imageXResolution:u.imageXResolution,imageYResolution:u.imageYResolution},s&&(l.imageWidth>s||l.imageHeight>s)?[2,We.resizeImageWithMeta(u.imageData,l,a,o,s)]:[2,u]}}))}))},t}(Oe),Ve=function(){function e(){}return e.buildWasmFileName=function(e,t,n,i){return e+(i?"sn-":"")+t+n},e.base64DecToArr=function(e,t){for(var n=e.replace(/[^A-Za-z0-9\+\/]/g,""),i=n.length,r=t?Math.ceil((3*i+1>>>2)/t)*t:3*i+1>>>2,a=new Uint8Array(r),o=void 0,s=void 0,u=0,l=0,d=0;d<i;d++)if(s=3&d,u|=p(this,Ee,"m",Ne).call(this,n.charCodeAt(d))<<18-6*s,3===s||i-d==1){for(o=0;o<3&&l<r;o++,l++)a[l]=u>>>(16>>>o&24)&255;u=0}return a},e.isWasmSupport=function(){try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){var e=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly.Module)return new WebAssembly.Instance(e)instanceof WebAssembly.Instance}}catch(t){}return!1},e.random=function(){return(Date.now()%10086).toString(36).slice(2)+Math.random().toString(36).slice(2)},e}();Ee=Ve,Ne=function(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:43===e?62:47===e?63:0},function(e){e[e.auto=0]="auto",e[e.store=1]="store"}(ze||(ze={}));var Ye=function(t){function i(e){var n=t.call(this,J.PdfWriterModule,e)||this;return Je.add(n),n}return n(i,t),i.prototype.initPdfSetting=function(e){return f(this,void 0,void 0,(function(){var t,n;return h(this,(function(i){return(n=(t=this)._createTask("InitPdfWriter")).params.input=JSON.stringify(p(t,Je,"m",He).call(t,e)),n.handleResult=this._handleBooleanResult,[2,t._addTask(n)]}))}))},i.prototype.appendPage=function(e,t){return f(this,void 0,void 0,(function(){var n,i,r;return h(this,(function(a){switch(a.label){case 0:return i=(n=this)._createTask("AddPageFromImageFileStream"),t=null!=t&&t,[4,n._readFile(e,i)];case 1:return r=a.sent(),i.params.input=[r,t],i.handleResult=n._handleBooleanResult,n._addTask(i),[2,i.promise]}}))}))},i.prototype.writePdf=function(t){return f(this,void 0,void 0,(function(){var n;return h(this,(function(i){return(n=this._createTask("GetPdfContent")).params.returnType=null!=t?t:e.ReturnedDataType.RT_AUTO,n.params.returnBlob=t!=e.ReturnedDataType.RT_AUTO,n.handleResult=this._handleImageData,[2,this._addTask(n)]}))}))},i.prototype.newPage=function(e,t){return f(this,void 0,void 0,(function(){var n;return h(this,(function(i){return e=null!=e?e:595,t=null!=t?t:842,(n=this._createTask("NewPdfPage")).params.input=[e,t],n.handleResult=this._handleBooleanResult,[2,this._addTask(n)]}))}))},i.prototype.writePage=function(){return f(this,void 0,void 0,(function(){var e;return h(this,(function(t){return(e=this._createTask("WritePdfPage")).handleResult=this._handleBooleanResult,[2,this._addTask(e)]}))}))},i.prototype.pageSetRotate=function(e){return f(this,void 0,void 0,(function(){var t;return h(this,(function(n){return 0!==(e=null!=e?e:0)&&90!==e&&180!==e&&270!==e&&(e=0),(t=this._createTask("PdfPageSetRotate")).params.input=[e],t.handleResult=this._handleBooleanResult,[2,this._addTask(t)]}))}))},i.prototype.pageAddImage=function(e,t,n,i){return f(this,void 0,void 0,(function(){var r,a,o,s;return h(this,(function(u){switch(u.label){case 0:return a=(r=this)._createTask("PdfPageAddImage"),i=null!=i&&i,t=null!=t?t:0,o=JSON.stringify(p(r,Je,"m",He).call(r,n)),[4,r._readFile(e,a)];case 1:return s=u.sent(),a.params.input=[s,t,o,i],a.handleResult=r._handleBooleanResult,r._addTask(a),[2,a.promise]}}))}))},i}(Re);Je=new WeakSet,He=function(e){var t={};if(e!=undefined&&"object"==typeof e)for(var n in e)t[n]=e[n];return t};var qe=function(){function e(){}return e.log=function(e,t){this.logLevel===t&&("function"==typeof this.logFunc?this.logFunc(e):console.log(e))},e.setLoglevel=function(e,t){this.logLevel=1===e?i.logDebug:"",this.logFunc=t,J.setLogFunc(this.logLevel,t)},e.getMemoryUsed=function(){return te.Instance.getMemoryUsed()},e.getLicenseInfo=function(e,t,n){return f(this,void 0,void 0,(function(){var i;return h(this,(function(r){switch(r.label){case 0:return this.Init(e,t,n),t?[4,te.Instance.loadModule(J.CryptoModule)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[4,te.Instance.loadModule(J.ImageIOModule)];case 3:r.sent(),i=new Oe(this.productKey),r.label=4;case 4:return r.trys.push([4,,6,7]),[4,i.getLicenseInfo()];case 5:return[2,r.sent()];case 6:return i.terminate(),[7];case 7:return[2]}}))}))},e.Init=function(e,t,n){this.productKey=null!=e?e:this.productKey,t!==undefined&&(this.licMode=t?1:0),this.uuid=null!=n?n:this.uuid,J.License=this.productKey,J.UUID=this.uuid,J.LicMode=this.licMode,J.NavInfo=JSON.parse(JSON.stringify(Dynamsoft.navInfo)),J.Mobile=Dynamsoft.Lib.env.bMobile,this.simdFlag===d.SF_ENABLE?J.UseSimd=!0:this.simdFlag===d.SF_DISABLE?J.UseSimd=!1:J.UseSimd=this.getUseSimd();var i={resourceDir:this.resourceDir,workerScript:"",useFastCompEdition:this.useFastcompEdition,useSimd:J.UseSimd,fetchOptions:this.fetchOptions,defHeapSize:J.DefHeapSize,maxHeapSize:J.MaxHeapSize};i.workerScript=J.ImageIOWorkerJS,i.defHeapSize=this.wasmHeap[this.ImageIOWasm].initHeapSize,i.maxHeapSize=this.wasmHeap[this.ImageIOWasm].maxHeapSize,J.ImageIOResource=i;var r=c({},i);r.defHeapSize=this.wasmHeap[this.PdfReaderWasm].initHeapSize,r.maxHeapSize=this.wasmHeap[this.PdfReaderWasm].maxHeapSize,r.workerScript=J.PdfReaderWorkerJS,J.PdfReaderResource=r,""===this.logLevel||this.logFunc||this.setLoglevel(1,console.log)},e.loadPdfReader=function(e,t,n){return f(this,void 0,void 0,(function(){var i;return h(this,(function(r){switch(r.label){case 0:return this.Init(e,t,n),"Pending"==this.loadStatePdf?[2,!1]:(this.loadStatePdf="Pending",[4,te.Instance.loadModule(J.ImageProcModule)]);case 1:return r.sent(),[4,te.Instance.loadModule(J.PdfReaderModule)];case 2:return i=r.sent(),this.loadStatePdf="",[2,i]}}))}))},e.loadMain=function(e,t,n){return f(this,void 0,void 0,(function(){var i;return h(this,(function(r){switch(r.label){case 0:return this.Init(e,t,n),"Pending"==this.loadStateMain?[2,!1]:(this.loadStateMain="Pending",[4,te.Instance.loadModule(J.ImagecoreModule)]);case 1:return i=r.sent(),te.Instance.loadModule(J.ImageProcModule),this.loadStateMain="",[2,i]}}))}))},e.load=function(e,t,n){return f(this,void 0,void 0,(function(){return h(this,(function(i){switch(i.label){case 0:return te.Instance.terminate(!0),this.Init(e,t,n),[4,this.loadMain(e,t,n)];case 1:return i.sent(),[4,this.loadPdfReader(e,t,n)];case 2:return i.sent(),[2]}}))}))},e.unloadMain=function(){te.Instance.terminateWorker(J.ImageIOModule)},e.unloadPdfReader=function(){te.Instance.terminateWorker(J.PdfReaderModule)},e.unload=function(){return f(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return[4,te.Instance.terminate(!0)];case 1:return e.sent(),[2]}}))}))},e.getUseSimd=function(){if(this.useFastcompEdition)return!1;if(this.simdFlag===d.SF_DEF){if(navigator.userAgentData!==undefined&&navigator.userAgentData.brands!==undefined)for(var e=0,t=navigator.userAgentData.brands;e<t.length;e++){var n=t[e];if(n.brand&&("Chromium"===n.brand||"Google Chrome"===n.brand)&&n.version&&parseInt(n.version,10)>=94)return!0}}else if(this.simdFlag===d.SF_ENABLE)return!0;return!1},e.resourceDir=Dynamsoft.DWT.ResourcesPath+"/src/",e.logLevel=Dynamsoft.DWT.Debug?i.logDebug:"",e.logFunc=null,e.productKey="",e.licMode=o.LONG_KEY,e.uuid="",e.fetchOptions={mode:"cors",credentials:"same-origin",retries:3,retryDelay:500},e.simdFlag=d.SF_DEF,e.useFastcompEdition=!1,e.ImageIOWasm=0,e.PdfReaderWasm=1,e.loadStatePdf="",e.loadStateMain="",e.wasmHeap=[{maxHeapSize:300,initHeapSize:J.DefHeapSize},{maxHeapSize:200,initHeapSize:J.DefHeapSize}],e}(),Ke=function(){function e(){}return e.IsModuleInstalled=function(){if(Ve.isWasmSupport()){var e=te.Instance.getModuleStatus(i.pdfR),t=te.Instance.getModuleStatus(i.pdfW);return e===r.ready&&t===r.ready}return!1},e}();e.ImageProc=De,e.ImageProcWrapper=We,e.ImagecoreEx=Ge,e.PdfAnnot=we,e.PdfReaderEx=Ue,e.PdfSettings=function(){this.version=undefined,this.compression=undefined,this.author=undefined,this.creationDate=undefined,this.creator=undefined,this.keywords=undefined,this.modifiedDate=undefined,this.producer=undefined,this.subject=undefined,this.title=undefined,this.quality=undefined,this.jpegMode=undefined},e.PdfWriter=Ye,e.WasmEnv=qe,e.pdf=Ke,Object.defineProperty(e,"__esModule",{value:!0})}));
Dynamsoft.WasmEnv = Dynamsoft.ImageIO.WasmEnv;  Dynamsoft.Imagecore = Dynamsoft.ImageIO.ImagecoreEx;  Dynamsoft.ImageProc = Dynamsoft.ImageIO.ImageProc;  Dynamsoft.PdfReader = Dynamsoft.ImageIO.PdfReaderEx;  Dynamsoft.PdfWriter = Dynamsoft.ImageIO.PdfWriter;  Dynamsoft.ImageProcWrapper = Dynamsoft.ImageIO.ImageProcWrapper;  Dynamsoft.pdf = Dynamsoft.ImageIO.pdf;  Dynamsoft.Enum_ImageType = Dynamsoft.ImageIO.ImageType;  Dynamsoft.Enum_ReturnType = Dynamsoft.ImageIO.ReturnedDataType;  